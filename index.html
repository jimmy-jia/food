<!DOCTYPE html>
<html>
	<head>
		<title>Food @ Champaign-Urbana</title>
		<meta charset="utf-8">
		<link href='http://fonts.googleapis.com/css?family=Nunito' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
		<link href="stylesheet.css" rel="stylesheet" type="text/css">
		<link rel="icon" href="favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src='https://cdn.firebase.com/js/client/1.1.1/firebase.js'></script>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
	</head>
	<body>
		<div class="wrapper">
			<div class="top">
				<a href="index.html" id="logo">foodseeker</a>
					<ul class="nav">
						<li><a href="#">home</a></li>
						<li><a href="about.html">about</a></li>
						<li><a href="stores.html">stores</a></li>
					</ul>
			</div>
			<div class="center">
				<p class="title">Welcome to <span id="lobo">foodseeker</span></p>
				<p class="subtitle">Seeking food in Urbana-Champaign</p>
				<p class="help">No idea what to eat? Don't worry, we got you.</p>
				<form class="sbar" id ="submitform">
					<input type='text' id='Input' placeholder='What are you in the mood for?'>
					<input type='button' id='button' value="Send" onclick="getLocation()">
					<input type='button' id='button2' value="Send" onclick="search()">
				</form>
				<p id="errorshow"></p>
				<input type='button' id="autobutton" value="Manual Location Input?" onclick="manual()">
				<p id="testing"></p>
				<script>
					var errorshow = document.getElementById('errorshow');
					function getLocation() {
						$(errorshow).fadeOut(400);
					    if (navigator.geolocation) {
					        navigator.geolocation.getCurrentPosition(showPosition, showError);
					    } else {
					        errorshow.innerHTML = "Geolocation is not supported by this browser.";
					    }
					}
					function showPosition(position) {
						$(errorshow).fadeIn(400);
					    errorshow.innerHTML = "Latitude: " + position.coords.latitude + 
					    "<br>Longitude: " + position.coords.longitude; 
					    search();
					}
					function showError(error) {
					    switch(error.code) {
					        case error.PERMISSION_DENIED:
					            errorshow.innerHTML = "User or browser denied the request for Geolocation. Please try again."
					            break;
					        case error.POSITION_UNAVAILABLE:
					            errorshow.innerHTML = "Location information is unavailable."
					            break;
					        case error.TIMEOUT:
					            errorshow.innerHTML = "The request to get user location timed out."
					            break;
					        case error.UNKNOWN_ERROR:
					            errorshow.innerHTML = "An unknown error occurred."
					            break;
					    }
					    var autobutton = document.getElementById('autobutton');
					    $(autobutton).fadeIn(400);
					    $(errorshow).fadeIn(400);
					}
					function manual(){
						errorshow.innerHTML="Manual Input Mode";
						$(autobutton).fadeOut(400);
						var input_field = document.getElementById('Input');
						input_field.placeholder="Please enter your City and State.";
						input_field.value="";
						var but1 = document.getElementById('button');
						var but2 = document.getElementById('button2');
						$(but1).fadeOut(0);
						$(but2).fadeIn(0);
					}
				</script>
				<script>
					function search(){
						var search_input=document.getElementById('submitform');
						var text  ="";
							text+= search_input.elements[0].value;
						document.getElementById("testing").innerHTML = text;

					}
					function askloc(){
						
					}
					function oauth(){
						var oauth_consumer_key=mY7J5hvTUPX7NTLRAZ7TVg;
						var oauth_token=7sbA81Z0sHv7VCacqNQQI2sZGetyxVja;
						var xmlhttp
						if(window.XMLHttpRequest){
							xmlhttp=new XMLHttpRequest();
						}
						else{
							xmlhttp=new ActiveXObject("Miscrosoft.XMLHTTP");
						}

					}

				</script>
			</div>


		</div>


	</body>
</html>